# exams

Приложение `exams` отвечает за "экзаменационный рубрикатор": какие бывают экзамены, по каким предметам, и как структурированы номера/группы экзаменационных заданий.

Цели:
- Дать фронтенду понятное дерево выбора: экзамен → предмет → номер/группа задания → (опционально) подтип.
- Хранить экзаменационные правила оценивания (scoring policy), которые применяются в режиме экзаменационного тренажера.

Архитектура:
- `domain/` — чистые enum/смыслы (без Django)
- `application/` — use cases (позже)
- `infrastructure/` — Django ORM модели (источник данных)

## Модели

### Exam
Справочник экзаменов (например: ЕГЭ, ОГЭ, ВПР).

Пример:
- `Exam(title="ЕГЭ")`

### ExamType
Экзамен + предмет (например: "ЕГЭ по математике").

Зачем:
- позволяет хранить отдельные наборы "номеров заданий" по разным предметам для одного и того же экзамена.

Связи:
- `ExamType.exam -> Exam`
- `ExamType.subject -> graph.Subject`

Пример:
- `ExamType(exam=ЕГЭ, subject=Математика, is_active=True)`

### ExamTaskGroup
Группа/номер экзаменационного задания внутри конкретного `ExamType`.

Зачем:
- это "№1", "№13", ... (или "Механика", если для экзамена удобнее как раздел).
- здесь хранится экзаменационная политика оценивания (как начислять баллы).

Связи:
- `ExamTaskGroup.exam_type -> ExamType`

Поля:
- `num` — номер/порядок
- `title` — название
- `scoring_policy` — JSON, правила начисления баллов
- `max_score` — максимальный балл

Пример:
- ЕГЭ (математика) → `num=13`, `title="Планиметрия"`, `max_score=2`
- `scoring_policy` для match (условный пример):
  - `{ "mode": "per_pair", "points_per_pair": 1, "max_pairs": 2 }`

### ExamTaskType (опционально)
Подтип внутри `ExamTaskGroup`. Нужен, если внутри одного номера ты хочешь еще один уровень рубрикации.

Зачем:
- связывать задания (`tasks.Task`) с более точной категорией, чем просто номер.

Связи:
- `ExamTaskType.exam_task_group -> ExamTaskGroup`

Пример:
- `ExamTaskType(exam_task_group=№13, title="Прямоугольный треугольник")`

## Как это используется в тренажере

- `tasks.Task` может ссылаться на `exams.ExamTaskType` (nullable).
- Экзаменационная политика оценивания берется из `Task.exam_task_type.exam_task_group.scoring_policy`.
- В обычной тренировке (не экзамен) можно не использовать rubric-политику вовсе.

