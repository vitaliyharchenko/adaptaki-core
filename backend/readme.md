# Adaptaki Backend

## Назначение

Backend — это API-ядро платформы Adaptaki.
Он отвечает за:

-   авторизацию и роли пользователей,
-   бизнес-логику обучения (в будущем),
-   работу с БД,
-   интеграцию с ИИ,
-   предоставление API для разных клиентов (Web, Mobile, Telegram).

Backend **не рендерит HTML** и используется только как API.

---

## Текущий статус (зафиксировано)

На данный момент реализовано:

### ✅ Инфраструктура

-   Django
-   Django REST Framework
-   PostgreSQL / SQLite (dev)
-   Структура с папкой `apps/`
-   CORS настроен для локальной разработки

### ✅ Пользователи и авторизация

-   Кастомная модель `User`
-   JWT-аутентификация (`SimpleJWT`)
-   Эндпоинты:
    -   `POST /api/auth/register/`
    -   `POST /api/auth/login/`
    -   `GET  /api/auth/me/`

### ✅ Архитектурные договорённости

-   Django используется как:
    -   API-слой
    -   ORM
    -   инфраструктура
-   Бизнес-логика выносится из views
-   Проект ориентирован на **backend-first архитектуру**

---

## Структура проекта

backend/
├─ config/ # Django project (settings, urls)
├─ apps/ # Django apps
│ ├─ users/ # Пользователи и авторизация
│ └─ learning/ # Учебные сценарии (пока пусто)
├─ domain/ # Чистая доменная логика (пока заготовка)
├─ application/ # Use cases / сценарии (пока заготовка)
├─ infrastructure/ # Репозитории, интеграции (пока заготовка)
├─ manage.py
└─ requirements.txt

---

## Важные правила (НЕ НАРУШАТЬ)

-   ❌ Не писать бизнес-логику во `views`
-   ❌ Не привязывать домен к HTTP / DRF
-   ✔ Использовать JWT для всех защищённых эндпоинтов
-   ✔ Новые сценарии реализовывать как отдельные use case

---

## Что делать дальше (следующие шаги)

Ближайшие логичные шаги backend-разработки:

1. Реализовать первый бизнес-сценарий:
    - `POST /api/answers/submit`
2. Добавить модели:
    - Task
    - Attempt
3. Начать заполнять `domain/` и `application/`
4. Подготовить backend к Telegram Mini App
